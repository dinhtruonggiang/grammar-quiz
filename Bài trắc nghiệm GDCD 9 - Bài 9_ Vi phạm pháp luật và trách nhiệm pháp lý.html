<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bài trắc nghiệm GDCD 9 - Bài 9: Vi phạm pháp luật và trách nhiệm pháp lý</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .explanation {
            display: none;
        }
        .question-block {
            margin-bottom: 20px;
        }
    </style>
</head>
<body class="bg-blue-50 p-4 md:p-8">
    <div class="max-w-4xl mx-auto bg-white p-6 rounded-lg shadow-md">
        <h1 class="text-2xl md:text-3xl font-bold text-center text-red-600 mb-6">GIÁO DỤC CÔNG DÂN LỚP 9</h1>
        <h2 class="text-xl md:text-2xl font-bold text-center text-blue-700 mb-8">BÀI 9: VI PHẠM PHÁP LUẬT VÀ TRÁCH NHIỆM PHÁP LÝ</h2>
        
        <div class="mb-6 p-4 bg-yellow-50 rounded-lg border border-yellow-200">
            <p class="font-medium text-gray-800 mb-2">Hướng dẫn:</p>
            <ul class="list-disc pl-5 text-gray-700">
                <li>Đọc kỹ từng câu hỏi và chọn đáp án đúng</li>
                <li>Sau khi làm xong, nhấn nút "Kiểm tra kết quả" để xem đáp án và giải thích</li>
                <li>Bài trắc nghiệm gồm 10 câu hỏi dựa trên nội dung bài 9</li>
            </ul>
        </div>

        <form id="quizForm">
            <!-- Câu hỏi 1 -->
            <div class="question-block p-4 bg-gray-50 rounded-lg mb-6">
                <p class="font-medium mb-3">Câu 1: Vi phạm pháp luật là gì?</p>
                <div class="pl-5">
                    <div class="mb-1">
                        <input type="radio" name="q1" id="q1a" value="a">
                        <label for="q1a">A. Hành vi trái đạo đức xã hội</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q1" id="q1b" value="b">
                        <label for="q1b">B. Hành vi trái pháp luật, có lỗi, do chủ thể có năng lực trách nhiệm pháp lý thực hiện, xâm hại các quan hệ xã hội được pháp luật bảo vệ</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q1" id="q1c" value="c">
                        <label for="q1c">C. Hành vi vi phạm các quy tắc đạo đức</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q1" id="q1d" value="d">
                        <label for="q1d">D. Hành vi xâm hại đến lợi ích cá nhân</label>
                    </div>
                </div>
                <div class="explanation mt-3 p-3 bg-green-50 border border-green-200 rounded-md">
                    <p class="font-medium text-green-800">Đáp án đúng: B. Hành vi trái pháp luật, có lỗi, do chủ thể có năng lực trách nhiệm pháp lý thực hiện, xâm hại các quan hệ xã hội được pháp luật bảo vệ</p>
                    <p class="text-gray-700 mt-1">Giải thích: Vi phạm pháp luật là hành vi trái pháp luật, có lỗi, do chủ thể có năng lực trách nhiệm pháp lý thực hiện, xâm hại đến các quan hệ xã hội được pháp luật bảo vệ. Định nghĩa này chỉ ra đầy đủ 4 yếu tố cấu thành của vi phạm pháp luật: hành vi trái pháp luật, chủ thể có năng lực trách nhiệm pháp lý, có lỗi, và gây thiệt hại cho xã hội.</p>
                </div>
            </div>

            <!-- Câu hỏi 2 -->
            <div class="question-block p-4 bg-gray-50 rounded-lg mb-6">
                <p class="font-medium mb-3">Câu 2: Yếu tố nào sau đây KHÔNG phải là yếu tố cấu thành vi phạm pháp luật?</p>
                <div class="pl-5">
                    <div class="mb-1">
                        <input type="radio" name="q2" id="q2a" value="a">
                        <label for="q2a">A. Hành vi trái pháp luật</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q2" id="q2b" value="b">
                        <label for="q2b">B. Chủ thể có năng lực trách nhiệm pháp lý</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q2" id="q2c" value="c">
                        <label for="q2c">C. Có lỗi</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q2" id="q2d" value="d">
                        <label for="q2d">D. Có ý định thực hiện hành vi</label>
                    </div>
                </div>
                <div class="explanation mt-3 p-3 bg-green-50 border border-green-200 rounded-md">
                    <p class="font-medium text-green-800">Đáp án đúng: D. Có ý định thực hiện hành vi</p>
                    <p class="text-gray-700 mt-1">Giải thích: Bốn yếu tố cấu thành vi phạm pháp luật bao gồm: hành vi trái pháp luật, chủ thể có năng lực trách nhiệm pháp lý, có lỗi, và gây thiệt hại cho xã hội. "Có ý định thực hiện hành vi" không phải là yếu tố cấu thành vi phạm pháp luật, mà chỉ là một phần của yếu tố lỗi (lỗi cố ý). Lưu ý rằng lỗi có thể là cố ý hoặc vô ý.</p>
                </div>
            </div>

            <!-- Câu hỏi 3 -->
            <div class="question-block p-4 bg-gray-50 rounded-lg mb-6">
                <p class="font-medium mb-3">Câu 3: Vi phạm pháp luật hình sự còn được gọi là gì?</p>
                <div class="pl-5">
                    <div class="mb-1">
                        <input type="radio" name="q3" id="q3a" value="a">
                        <label for="q3a">A. Vi phạm hành chính</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q3" id="q3b" value="b">
                        <label for="q3b">B. Vi phạm dân sự</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q3" id="q3c" value="c">
                        <label for="q3c">C. Tội phạm</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q3" id="q3d" value="d">
                        <label for="q3d">D. Vi phạm kỷ luật</label>
                    </div>
                </div>
                <div class="explanation mt-3 p-3 bg-green-50 border border-green-200 rounded-md">
                    <p class="font-medium text-green-800">Đáp án đúng: C. Tội phạm</p>
                    <p class="text-gray-700 mt-1">Giải thích: Vi phạm pháp luật hình sự còn được gọi là tội phạm. Đây là loại vi phạm pháp luật nguy hiểm nhất, xâm phạm đến những quan hệ xã hội quan trọng được pháp luật hình sự bảo vệ như an ninh quốc gia, tính mạng, sức khỏe, danh dự, nhân phẩm của con người, quyền và lợi ích hợp pháp của tổ chức, cá nhân... Người phạm tội sẽ phải chịu trách nhiệm hình sự.</p>
                </div>
            </div>

            <!-- Câu hỏi 4 -->
            <div class="question-block p-4 bg-gray-50 rounded-lg mb-6">
                <p class="font-medium mb-3">Câu 4: Các loại vi phạm pháp luật được phân loại dựa trên tiêu chí nào?</p>
                <div class="pl-5">
                    <div class="mb-1">
                        <input type="radio" name="q4" id="q4a" value="a">
                        <label for="q4a">A. Dựa trên mức độ thiệt hại gây ra</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q4" id="q4b" value="b">
                        <label for="q4b">B. Dựa trên tính chất và mức độ nguy hiểm cho xã hội của hành vi vi phạm</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q4" id="q4c" value="c">
                        <label for="q4c">C. Dựa trên ý thức của người vi phạm</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q4" id="q4d" value="d">
                        <label for="q4d">D. Dựa trên tuổi tác của người vi phạm</label>
                    </div>
                </div>
                <div class="explanation mt-3 p-3 bg-green-50 border border-green-200 rounded-md">
                    <p class="font-medium text-green-800">Đáp án đúng: B. Dựa trên tính chất và mức độ nguy hiểm cho xã hội của hành vi vi phạm</p>
                    <p class="text-gray-700 mt-1">Giải thích: Các loại vi phạm pháp luật được phân loại dựa trên tính chất và mức độ nguy hiểm cho xã hội của hành vi vi phạm. Theo đó, vi phạm pháp luật được chia thành các loại: vi phạm hành chính, vi phạm dân sự, vi phạm kỷ luật và tội phạm (vi phạm hình sự). Mỗi loại vi phạm có mức độ nguy hiểm khác nhau và sẽ phải chịu loại trách nhiệm pháp lý tương ứng.</p>
                </div>
            </div>

            <!-- Câu hỏi 5 -->
            <div class="question-block p-4 bg-gray-50 rounded-lg mb-6">
                <p class="font-medium mb-3">Câu 5: Trách nhiệm pháp lý là gì?</p>
                <div class="pl-5">
                    <div class="mb-1">
                        <input type="radio" name="q5" id="q5a" value="a">
                        <label for="q5a">A. Nghĩa vụ mà người vi phạm pháp luật phải gánh chịu những hậu quả bất lợi từ hành vi vi phạm của mình</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q5" id="q5b" value="b">
                        <label for="q5b">B. Trách nhiệm đạo đức của công dân trước xã hội</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q5" id="q5c" value="c">
                        <label for="q5c">C. Hình phạt do tòa án quyết định</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q5" id="q5d" value="d">
                        <label for="q5d">D. Sự răn đe của xã hội với người vi phạm</label>
                    </div>
                </div>
                <div class="explanation mt-3 p-3 bg-green-50 border border-green-200 rounded-md">
                    <p class="font-medium text-green-800">Đáp án đúng: A. Nghĩa vụ mà người vi phạm pháp luật phải gánh chịu những hậu quả bất lợi từ hành vi vi phạm của mình</p>
                    <p class="text-gray-700 mt-1">Giải thích: Trách nhiệm pháp lý là nghĩa vụ mà người vi phạm pháp luật phải gánh chịu những hậu quả bất lợi từ hành vi vi phạm pháp luật của mình. Những hậu quả bất lợi này do cơ quan nhà nước có thẩm quyền quyết định và bảo đảm thực hiện. Trách nhiệm pháp lý nhằm mục đích trừng phạt người vi phạm, giáo dục họ ý thức tuân thủ pháp luật và phòng ngừa vi phạm pháp luật trong xã hội.</p>
                </div>
            </div>

            <!-- Câu hỏi 6 -->
            <div class="question-block p-4 bg-gray-50 rounded-lg mb-6">
                <p class="font-medium mb-3">Câu 6: Trách nhiệm pháp lý được áp dụng đối với vi phạm hành chính là gì?</p>
                <div class="pl-5">
                    <div class="mb-1">
                        <input type="radio" name="q6" id="q6a" value="a">
                        <label for="q6a">A. Trách nhiệm hình sự</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q6" id="q6b" value="b">
                        <label for="q6b">B. Trách nhiệm dân sự</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q6" id="q6c" value="c">
                        <label for="q6c">C. Trách nhiệm hành chính</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q6" id="q6d" value="d">
                        <label for="q6d">D. Trách nhiệm kỷ luật</label>
                    </div>
                </div>
                <div class="explanation mt-3 p-3 bg-green-50 border border-green-200 rounded-md">
                    <p class="font-medium text-green-800">Đáp án đúng: C. Trách nhiệm hành chính</p>
                    <p class="text-gray-700 mt-1">Giải thích: Trách nhiệm pháp lý được áp dụng đối với vi phạm hành chính là trách nhiệm hành chính. Các hình thức xử phạt hành chính có thể bao gồm: cảnh cáo, phạt tiền, tước quyền sử dụng giấy phép/chứng chỉ hành nghề, tịch thu tang vật/phương tiện vi phạm, buộc khôi phục lại tình trạng ban đầu, trục xuất... Mức độ xử phạt tùy thuộc vào tính chất, mức độ của hành vi vi phạm hành chính.</p>
                </div>
            </div>

            <!-- Câu hỏi 7 -->
            <div class="question-block p-4 bg-gray-50 rounded-lg mb-6">
                <p class="font-medium mb-3">Câu 7: Mục đích của việc áp dụng trách nhiệm pháp lý là gì?</p>
                <div class="pl-5">
                    <div class="mb-1">
                        <input type="radio" name="q7" id="q7a" value="a">
                        <label for="q7a">A. Chỉ để trừng phạt người vi phạm</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q7" id="q7b" value="b">
                        <label for="q7b">B. Để trừng phạt người vi phạm, giáo dục họ ý thức tuân thủ pháp luật và phòng ngừa vi phạm pháp luật</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q7" id="q7c" value="c">
                        <label for="q7c">C. Chỉ để giáo dục người vi phạm</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q7" id="q7d" value="d">
                        <label for="q7d">D. Để tạo nên sự sợ hãi trong xã hội</label>
                    </div>
                </div>
                <div class="explanation mt-3 p-3 bg-green-50 border border-green-200 rounded-md">
                    <p class="font-medium text-green-800">Đáp án đúng: B. Để trừng phạt người vi phạm, giáo dục họ ý thức tuân thủ pháp luật và phòng ngừa vi phạm pháp luật</p>
                    <p class="text-gray-700 mt-1">Giải thích: Việc áp dụng trách nhiệm pháp lý có ba mục đích chính: (1) Trừng phạt người vi phạm - buộc họ phải chịu những hậu quả bất lợi về vật chất, tinh thần, (2) Giáo dục họ ý thức tuân thủ pháp luật - giúp họ nhận thức được hành vi sai trái và từ đó có ý thức tôn trọng pháp luật, và (3) Phòng ngừa vi phạm pháp luật - răn đe những người có ý định vi phạm pháp luật, góp phần bảo vệ trật tự pháp luật.</p>
                </div>
            </div>

            <!-- Câu hỏi 8 -->
            <div class="question-block p-4 bg-gray-50 rounded-lg mb-6">
                <p class="font-medium mb-3">Câu 8: Nam (17 tuổi) điều khiển xe máy chạy quá tốc độ cho phép 20km/h, không đội mũ bảo hiểm. Hành vi của Nam thuộc loại vi phạm pháp luật nào?</p>
                <div class="pl-5">
                    <div class="mb-1">
                        <input type="radio" name="q8" id="q8a" value="a">
                        <label for="q8a">A. Vi phạm hình sự</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q8" id="q8b" value="b">
                        <label for="q8b">B. Vi phạm hành chính</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q8" id="q8c" value="c">
                        <label for="q8c">C. Vi phạm dân sự</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q8" id="q8d" value="d">
                        <label for="q8d">D. Vi phạm kỷ luật</label>
                    </div>
                </div>
                <div class="explanation mt-3 p-3 bg-green-50 border border-green-200 rounded-md">
                    <p class="font-medium text-green-800">Đáp án đúng: B. Vi phạm hành chính</p>
                    <p class="text-gray-700 mt-1">Giải thích: Hành vi của Nam là vi phạm hành chính. Vi phạm quy định về tốc độ và không đội mũ bảo hiểm khi tham gia giao thông là những hành vi vi phạm Luật Giao thông đường bộ, bị xử phạt hành chính theo quy định. Mức độ vi phạm chưa đến mức bị truy cứu trách nhiệm hình sự. Nam sẽ phải chịu trách nhiệm hành chính như bị phạt tiền, có thể bị tạm giữ phương tiện hoặc giấy phép lái xe (nếu có).</p>
                </div>
            </div>

            <!-- Câu hỏi 9 -->
            <div class="question-block p-4 bg-gray-50 rounded-lg mb-6">
                <p class="font-medium mb-3">Câu 9: Anh Bình lái xe ô tô khi đã uống rượu, gây tai nạn làm chết người. Anh Bình sẽ phải chịu loại trách nhiệm pháp lý nào?</p>
                <div class="pl-5">
                    <div class="mb-1">
                        <input type="radio" name="q9" id="q9a" value="a">
                        <label for="q9a">A. Chỉ trách nhiệm hình sự</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q9" id="q9b" value="b">
                        <label for="q9b">B. Chỉ trách nhiệm dân sự</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q9" id="q9c" value="c">
                        <label for="q9c">C. Chỉ trách nhiệm hành chính</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q9" id="q9d" value="d">
                        <label for="q9d">D. Vừa trách nhiệm hình sự, vừa trách nhiệm dân sự</label>
                    </div>
                </div>
                <div class="explanation mt-3 p-3 bg-green-50 border border-green-200 rounded-md">
                    <p class="font-medium text-green-800">Đáp án đúng: D. Vừa trách nhiệm hình sự, vừa trách nhiệm dân sự</p>
                    <p class="text-gray-700 mt-1">Giải thích: Anh Bình sẽ phải chịu cả trách nhiệm hình sự và trách nhiệm dân sự. Trách nhiệm hình sự vì hành vi vi phạm quy định về an toàn giao thông đường bộ (lái xe khi đã uống rượu) dẫn đến hậu quả nghiêm trọng (làm chết người), có thể bị truy cứu về tội "Vi phạm quy định về tham gia giao thông đường bộ". Đồng thời, anh Bình còn phải chịu trách nhiệm dân sự là bồi thường thiệt hại cho gia đình người bị nạn về tổn thất về tinh thần, chi phí mai táng và các khoản cấp dưỡng cho người mà nạn nhân có nghĩa vụ cấp dưỡng.</p>
                </div>
            </div>

            <!-- Câu hỏi 10 -->
            <div class="question-block p-4 bg-gray-50 rounded-lg mb-6">
                <p class="font-medium mb-3">Câu 10: Hà (14 tuổi) và Minh (13 tuổi) đua xe đạp trên đường làm Minh ngã vào một cửa hàng, làm vỡ một số hàng hóa. Trong trường hợp này, ai phải chịu trách nhiệm dân sự?</p>
                <div class="pl-5">
                    <div class="mb-1">
                        <input type="radio" name="q10" id="q10a" value="a">
                        <label for="q10a">A. Hà và Minh</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q10" id="q10b" value="b">
                        <label for="q10b">B. Cha mẹ của Hà và Minh</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q10" id="q10c" value="c">
                        <label for="q10c">C. Chỉ Hà vì lớn tuổi hơn</label>
                    </div>
                    <div class="mb-1">
                        <input type="radio" name="q10" id="q10d" value="d">
                        <label for="q10d">D. Chủ cửa hàng phải tự chịu thiệt hại</label>
                    </div>
                </div>
                <div class="explanation mt-3 p-3 bg-green-50 border border-green-200 rounded-md">
                    <p class="font-medium text-green-800">Đáp án đúng: B. Cha mẹ của Hà và Minh</p>
                    <p class="text-gray-700 mt-1">Giải thích: Theo quy định của pháp luật dân sự, người chưa đủ 15 tuổi gây thiệt hại thì cha, mẹ phải bồi thường thiệt hại thay cho con. Trong trường hợp này, cả Hà (14 tuổi) và Minh (13 tuổi) đều chưa đủ 15 tuổi, nên cha mẹ của các em phải chịu trách nhiệm dân sự - bồi thường thiệt hại cho chủ cửa hàng về số hàng hóa bị vỡ. Đây là trách nhiệm dân sự thay thế do người chưa thành niên, người mất năng lực hành vi dân sự gây ra.</p>
                </div>
            </div>

            <div class="flex justify-center mt-8">
                <button type="button" id="checkBtn" class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded-lg font-medium text-lg">Kiểm tra kết quả</button>
            </div>

            <div id="resultArea" class="mt-8 p-5 bg-blue-50 rounded-lg text-center hidden">
                <h3 class="text-xl font-bold text-blue-800 mb-3">Kết quả của bạn</h3>
                <p id="score" class="text-2xl font-bold mb-3">0/10</p>
                <p id="feedback" class="text-lg text-gray-700"></p>
            </div>
        </form>
    </div>

    <script>
        document.getElementById('checkBtn').addEventListener('click', function() {
            // Đáp án đúng
            const correctAnswers = {
                q1: 'b',
                q2: 'd',
                q3: 'c',
                q4: 'b',
                q5: 'a',
                q6: 'c',
                q7: 'b',
                q8: 'b',
                q9: 'd',
                q10: 'b'
            };

            let score = 0;
            let totalQuestions = Object.keys(correctAnswers).length;

            // Kiểm tra từng câu hỏi
            for(let question in correctAnswers) {
                let selectedAnswer = document.querySelector(`input[name="${question}"]:checked`);
                
                // Hiển thị giải thích cho tất cả các câu hỏi
                document.querySelectorAll(`input[name="${question}"]`).forEach(input => {
                    input.parentElement.classList.remove('bg-red-100', 'bg-green-100');
                });

                if(selectedAnswer) {
                    let explanation = selectedAnswer.closest('.question-block').querySelector('.explanation');
                    explanation.style.display = 'block';
                    
                    // Đánh dấu đáp án đúng/sai
                    if(selectedAnswer.value === correctAnswers[question]) {
                        selectedAnswer.parentElement.classList.add('bg-green-100');
                        score++;
                    } else {
                        selectedAnswer.parentElement.classList.add('bg-red-100');
                        // Highlight đáp án đúng
                        document.querySelector(`input[name="${question}"][value="${correctAnswers[question]}"]`).parentElement.classList.add('bg-green-100');
                    }
                } else {
                    // Nếu không chọn đáp án nào
                    document.querySelector(`input[name="${question}"][value="${correctAnswers[question]}"]`).parentElement.classList.add('bg-green-100');
                    document.querySelector(`input[name="${question}"]`).closest('.question-block').querySelector('.explanation').style.display = 'block';
                }
            }

            // Hiển thị kết quả
            document.getElementById('score').textContent = `${score}/${totalQuestions}`;
            
            // Phản hồi dựa trên điểm số
            let feedback = '';
            if(score === totalQuestions) {
                feedback = 'Xuất sắc! Bạn đã nắm vững kiến thức về vi phạm pháp luật và trách nhiệm pháp lý.';
            } else if(score >= totalQuestions * 0.8) {
                feedback = 'Rất tốt! Bạn hiểu được hầu hết nội dung về vi phạm pháp luật và trách nhiệm pháp lý.';
            } else if(score >= totalQuestions * 0.6) {
                feedback = 'Khá tốt! Bạn đã nắm được những điểm cơ bản về vi phạm pháp luật và trách nhiệm pháp lý.';
            } else if(score >= totalQuestions * 0.4) {
                feedback = 'Bạn cần ôn tập thêm về chủ đề vi phạm pháp luật và trách nhiệm pháp lý.';
            } else {
                feedback = 'Bạn cần xem lại bài học kỹ hơn để hiểu rõ về vi phạm pháp luật và trách nhiệm pháp lý.';
            }
            
            document.getElementById('feedback').textContent = feedback;
            document.getElementById('resultArea').classList.remove('hidden');
            
            // Cuộn đến khu vực kết quả
            document.getElementById('resultArea').scrollIntoView({behavior: "smooth"});
        });
    </script>
<script>window.parent.postMessage({ action: "ready" }, "*"); 
 
window.console = new Proxy(console, {
  get(target, prop) {
    if (['log', 'warn', 'error'].includes(prop)) {
      return new Proxy(target[prop], {
        apply(fn, thisArg, args) {
          fn.apply(thisArg, args);
          window.parent.postMessage({ action: 'console', 
            type: prop, 
            args: args.map((arg) => {
              try {
                return JSON.stringify(arg).replace(/^["']|["']$/g, '');
              } catch (e) {
                return arg;
              }
            }) 
          }, '*');
        }
      });
    }
    return target[prop];
  }
});
</script></body>
</html>
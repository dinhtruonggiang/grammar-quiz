<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Grade 9 - Mid Term Test 6 (Page 2)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .option-label {
            display: block;
            margin-bottom: 8px;
            padding: 8px;
            border-radius: 4px;
            cursor: pointer;
        }
        .option-label:hover {
            background-color: #f3f4f6;
        }
        .explanation {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background-color: #e8f4ff;
            border-radius: 4px;
        }
        .correct {
            background-color: #d1fae5;
        }
        .incorrect {
            background-color: #fee2e2;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <h1 class="text-2xl font-bold text-center mb-2 text-blue-700">English Grade 9 - Mid Term Test 6</h1>
        <p class="text-center mb-6 text-gray-600">Page 2</p>
        
        <div class="bg-white p-6 rounded-lg shadow-md mb-6">
            <form id="quizForm">
                <!-- Reading Passage Context -->
                <h2 class="text-xl font-semibold mb-4">III. Choose the word (A, B, C or D) that best fits each space in the following passage.</h2>
                
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <h3 class="font-bold mb-3">A Short History of Energy (continued)</h3>
                    <p class="mb-3">...for over a hundred years to move railway trains and later ships. The next big change was the discovery of oil in the United States in the middle (21) _______ the 19th century. We are still living in the age of oil. However, the problems which this energy source has caused mean that now people are looking for green energy sources, (22) _______ as the power of the Sun to make electricity.</p>
                </div>

                <!-- Questions 17-22 (Multiple choice) -->
                <!-- Question 17 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">17. _______ </p>
                    <div class="ml-4">
                        <label class="option-label">
                            <input type="radio" name="q17" value="A"> A. too
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q17" value="B"> B. also
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q17" value="C"> C. and
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q17" value="D"> D. then
                        </label>
                    </div>
                    <div class="explanation" id="explanation17">
                        <p><strong>Correct answer: B. also</strong></p>
                        <p>The word "also" fits best in this context because it's used to add information about another thing that was previously mentioned. Based on the passage context, it's likely referring to another energy source or use that was mentioned earlier in the passage. The other options don't fit as well:
                        <ul class="list-disc ml-6">
                            <li>"Too" would typically be placed at the end of a clause</li>
                            <li>"And" would need another clause to connect to</li>
                            <li>"Then" suggests a sequence of events, which doesn't fit the context</li>
                        </ul>
                        </p>
                    </div>
                </div>

                <!-- Question 18 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">18. _______ </p>
                    <div class="ml-4">
                        <label class="option-label">
                            <input type="radio" name="q18" value="A"> A. when
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q18" value="B"> B. where
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q18" value="C"> C. while
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q18" value="D"> D. which
                        </label>
                    </div>
                    <div class="explanation" id="explanation18">
                        <p><strong>Correct answer: C. while</strong></p>
                        <p>Based on the visible passage context, "while" is the most appropriate choice. This is likely part of a sentence comparing two simultaneous situations, expressing contrast (such as "Wind and water were the main energy sources for thousands of years to work machines, while wood remained the only way of cooking and heating"). "While" is used to contrast two situations happening at the same time. The other options don't fit as well:
                        <ul class="list-disc ml-6">
                            <li>"When" suggests a specific time point rather than an extended period</li>
                            <li>"Where" refers to a place, which doesn't fit the context</li>
                            <li>"Which" would be used to introduce a relative clause about machines, which doesn't make sense here</li>
                        </ul>
                        </p>
                    </div>
                </div>

                <!-- Question 19 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">19. _______ </p>
                    <div class="ml-4">
                        <label class="option-label">
                            <input type="radio" name="q19" value="A"> A. for
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q19" value="B"> B. since
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q19" value="C"> C. from
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q19" value="D"> D. until
                        </label>
                    </div>
                    <div class="explanation" id="explanation19">
                        <p><strong>Correct answer: B. since</strong></p>
                        <p>Looking at the context "...but coal mines did not appear in Europe _______ the 12th century CE", "since" makes the most sense. "Since" is used to indicate the starting point of something that continues to the present or another specified time. The other options:
                        <ul class="list-disc ml-6">
                            <li>"For" would suggest a duration (for the 12th century), which doesn't make sense</li>
                            <li>"From" could work grammatically but typically requires "to" to complete the timeframe</li>
                            <li>"Until" would suggest coal mines appeared before the 12th century and then stopped, which contradicts the meaning</li>
                        </ul>
                        </p>
                    </div>
                </div>

                <!-- Question 20 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">20. _______ </p>
                    <div class="ml-4">
                        <label class="option-label">
                            <input type="radio" name="q20" value="A"> A. important
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q20" value="B"> B. hard
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q20" value="C"> C. good
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q20" value="D"> D. strong
                        </label>
                    </div>
                    <div class="explanation" id="explanation20">
                        <p><strong>Correct answer: D. strong</strong></p>
                        <p>While we cannot see the exact context in the visible portion of the text, based on the energy theme of the passage, "strong" is likely the correct answer. When discussing energy sources, "strong" is often used to describe their power or effectiveness. The word would likely be used in a phrase like "a strong source of energy" or "strong steam power." The other options:
                        <ul class="list-disc ml-6">
                            <li>"Important" would be appropriate if emphasizing significance rather than power</li>
                            <li>"Hard" doesn't typically collocate with energy descriptions in this context</li>
                            <li>"Good" is too generic for a technical discussion of energy</li>
                        </ul>
                        </p>
                    </div>
                </div>

                <!-- Question 21 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">21. _______ </p>
                    <div class="ml-4">
                        <label class="option-label">
                            <input type="radio" name="q21" value="A"> A. from
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q21" value="B"> B. by
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q21" value="C"> C. to
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q21" value="D"> D. of
                        </label>
                    </div>
                    <div class="explanation" id="explanation21">
                        <p><strong>Correct answer: D. of</strong></p>
                        <p>Looking at the context "the discovery of oil in the United States in the middle (21) _______ the 19th century", the correct preposition is "of". The phrase "in the middle of" is a fixed expression used to indicate a position within a timeframe. The other options don't work grammatically:
                        <ul class="list-disc ml-6">
                            <li>"From" would suggest movement away from the middle of the century</li>
                            <li>"By" would suggest agency (done by the 19th century)</li>
                            <li>"To" would suggest movement toward the middle of the century</li>
                        </ul>
                        </p>
                    </div>
                </div>

                <!-- Question 22 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">22. _______ </p>
                    <div class="ml-4">
                        <label class="option-label">
                            <input type="radio" name="q22" value="A"> A. such
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q22" value="B"> B. like
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q22" value="C"> C. example
                        </label>
                        <label class="option-label">
                            <input type="radio" name="q22" value="D"> D. including
                        </label>
                    </div>
                    <div class="explanation" id="explanation22">
                        <p><strong>Correct answer: A. such</strong></p>
                        <p>The context is "...people are looking for green energy sources, (22) _______ as the power of the Sun to make electricity." The phrase "such as" is used to give examples, which fits perfectly here as the sun is being given as an example of a green energy source. The other options:
                        <ul class="list-disc ml-6">
                            <li>"Like" could work grammatically but "such as" is more formal and appropriate in this academic context</li>
                            <li>"Example" would require "for" before it and wouldn't fit grammatically</li>
                            <li>"Including" could work but is less idiomatic than "such as" in this context</li>
                        </ul>
                        </p>
                    </div>
                </div>

                <!-- Word Form Section -->
                <h2 class="text-xl font-semibold mt-10 mb-4">V. Use the correct form of the word given in each sentence.</h2>

                <!-- Question 29 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">29. Teenagers should consider the long-term effects of __________ habits, such as smoking or excessive screen time. (HEALTH)</p>
                    <div class="ml-4">
                        <input type="text" name="q29" placeholder="Type your answer here" class="border rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="explanation" id="explanation29">
                        <p><strong>Correct answer: unhealthy</strong></p>
                        <p>The context requires an adjective form to describe "habits" that are bad for health. Given the examples of smoking and excessive screen time, these are negative habits. Therefore, we need the adjective "unhealthy" with the negative prefix "un-". The base word "healthy" would not be logical in this context which is discussing harmful habits.</p>
                    </div>
                </div>

                <!-- Question 30 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">30. __________ is a growing health concern among children and adults these days. (OBESE)</p>
                    <div class="ml-4">
                        <input type="text" name="q30" placeholder="Type your answer here" class="border rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="explanation" id="explanation30">
                        <p><strong>Correct answer: Obesity</strong></p>
                        <p>The word "OBESE" is an adjective that describes a person with excess weight. The sentence requires a noun form as the subject of the sentence. The noun form of "obese" is "obesity" - referring to the condition or state of being overweight. Since it's the first word in the sentence, it should be capitalized.</p>
                    </div>
                </div>

                <!-- Question 31 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">31. Several teenagers are becoming __________ to social media. (ADDICT)</p>
                    <div class="ml-4">
                        <input type="text" name="q31" placeholder="Type your answer here" class="border rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="explanation" id="explanation31">
                        <p><strong>Correct answer: addicted</strong></p>
                        <p>The base word "ADDICT" is a noun referring to a person who cannot stop using or doing something. In this sentence, we need an adjective form that describes the teenagers' relationship with social media. The correct form is "addicted" (past participle used as an adjective) which is always followed by the preposition "to".</p>
                    </div>
                </div>

                <!-- Question 32 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">32. My sister always __________ check the number of calories in the food before she eats it so that she can maintain her diet. (CARE)</p>
                    <div class="ml-4">
                        <input type="text" name="q32" placeholder="Type your answer here" class="border rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="explanation" id="explanation32">
                        <p><strong>Correct answer: carefully</strong></p>
                        <p>The base word "CARE" needs to be transformed into an adverb to modify the verb "check". The correct adverb form is "carefully", which describes how the sister performs the action of checking calories. We could also consider "is careful to" but since the blank is followed directly by "check", an adverb is the appropriate form.</p>
                    </div>
                </div>

                <!-- Question 33 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">33. The spectacular __________ of the Mekong Delta is a highlight of any trip to the south of Vietnam. (SCENIC)</p>
                    <div class="ml-4">
                        <input type="text" name="q33" placeholder="Type your answer here" class="border rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="explanation" id="explanation33">
                        <p><strong>Correct answer: scenery</strong></p>
                        <p>The base word "SCENIC" is an adjective describing beautiful natural views. In this sentence, we need a noun that refers to the views themselves. The correct transformation is "scenery", which means beautiful natural features of a landscape or view. The adjective "spectacular" before the blank indicates we need a noun here.</p>
                    </div>
                </div>

                <!-- Question 34 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">34. Tet is a festival that is __________ by Vietnamese people all over the world. (CELEBRATION)</p>
                    <div class="ml-4">
                        <input type="text" name="q34" placeholder="Type your answer here" class="border rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="explanation" id="explanation34">
                        <p><strong>Correct answer: celebrated</strong></p>
                        <p>The base word "CELEBRATION" is a noun. The sentence structure "is _____ by" indicates that we need a past participle to form a passive voice construction. The correct form is "celebrated" - the past participle of the verb "celebrate". The sentence describes Tet as a festival that passive subjects (Vietnamese people) are performing an action on.</p>
                    </div>
                </div>

                <!-- Dictionary Entry Section -->
                <h2 class="text-xl font-semibold mt-10 mb-4">VI. Look at the entry of the word 'COURAGE' in a dictionary. Use what you can get from the entry to complete the sentences with two or three words.</h2>
                
                <div class="mb-6 p-4 bg-blue-50 rounded-lg">
                    <p class="font-bold mb-1">courage <span class="font-normal italic">noun</span></p>
                    <p class="mb-1"><span class="text-gray-600">/ˈkʌrɪdʒ/</span></p>
                    <p class="mb-1"><span class="text-gray-600">/ˈkɜːrɪdʒ/</span></p>
                    <p class="mb-2">[uncountable]</p>
                    <div class="border border-gray-300 rounded-lg p-2 mb-3 inline-block">idioms</div>
                    <p class="mb-3">the ability to do something dangerous, or to face pain or opposition, without showing fear</p>
                    <ul class="list-disc pl-6 mb-4">
                        <li>He showed great courage and determination.</li>
                        <li>moral/physical courage</li>
                        <li><strong>courage to do something:</strong> is used to describe the bravery someone shows in the face of a situation, challenge, or context.</li>
                        <li>They had the courage to stand up and fight for what they believed in.</li>
                        <li>He couldn't find the courage to tell his daughters what had happened.</li>
                        <li>I haven't yet plucked up the courage to ask her.</li>
                        <li><strong>courage in doing something:</strong> is used to describe the bravery required to take a specific action or to do something that might be difficult, risky, or challenging.</li>
                        <li>I admire your courage in saying what you think.</li>
                    </ul>
                </div>

                <!-- Question 35 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">35. He showed __________ new things despite his fear of failure. (TRY)</p>
                    <div class="ml-4">
                        <input type="text" name="q35" placeholder="Type your answer here" class="border rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="explanation" id="explanation35">
                        <p><strong>Correct answer: courage to try</strong></p>
                        <p>Based on the dictionary entry, the phrase "courage to do something" describes the bravery someone shows in the face of a challenge. In this case, we combine this pattern with the required word "try" to form "courage to try". This fits the context of attempting new things despite a fear of failure, which requires bravery.</p>
                    </div>
                </div>

                <!-- Question 36 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">36. It takes a lot of __________ speak in front of a large crowd without feeling nervous.</p>
                    <div class="ml-4">
                        <input type="text" name="q36" placeholder="Type your answer here" class="border rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="explanation" id="explanation36">
                        <p><strong>Correct answer: courage to</strong></p>
                        <p>Based on the dictionary entry pattern "courage to do something", the correct answer is "courage to". The sentence is talking about the bravery required to speak in front of a crowd, which fits this pattern. The full sentence becomes "It takes a lot of courage to speak in front of a large crowd without feeling nervous."</p>
                    </div>
                </div>

                <!-- Sentence Rewriting Section -->
                <h2 class="text-xl font-semibold mt-10 mb-4">VII. Rewrite each of the following sentences in another way so that it means almost the same as the sentence printed before it.</h2>

                <!-- Question 37 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">37. It's advisable to wash our hands regularly to prevent the spread of germs.</p>
                    <p class="mb-3">→ Experts suggest that __________________________________________________.</p>
                    <div class="ml-4">
                        <input type="text" name="q37" placeholder="Type your answer here" class="border rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="explanation" id="explanation37">
                        <p><strong>Correct answer: we (should) wash our hands regularly to prevent the spread of germs</strong></p>
                        <p>This rewriting task changes the impersonal structure "It's advisable to..." to a structure with an agent "Experts suggest that...". After "suggest that", we need to use a clause. The modal verb "should" is often used after "suggest" to indicate advice or recommendation. The complete rewritten sentence is "Experts suggest that we (should) wash our hands regularly to prevent the spread of germs."</p>
                    </div>
                </div>

                <!-- Question 38 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">38. Though there are severe fines for poaching, some people still keep hunting wild animals.</p>
                    <p class="mb-3">→ In spite __________________________________________________.</p>
                    <div class="ml-4">
                        <input type="text" name="q38" placeholder="Type your answer here" class="border rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="explanation" id="explanation38">
                        <p><strong>Correct answer: of (the) severe fines for poaching, some people still keep hunting wild animals</strong></p>
                        <p>This rewriting task changes "Though" (which introduces a clause) to "In spite of" (which is followed by a noun phrase). The correct transformation requires changing "there are severe fines" to the noun phrase "severe fines". The complete rewritten sentence is "In spite of (the) severe fines for poaching, some people still keep hunting wild animals."</p>
                    </div>
                </div>

                <!-- Question 39 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">39. It took us three hours to explore the historical wonders of Tràng An. (SPENT)</p>
                    <p class="mb-3">→ __________________________________________________.</p>
                    <div class="ml-4">
                        <input type="text" name="q39" placeholder="Type your answer here" class="border rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="explanation" id="explanation39">
                        <p><strong>Correct answer: We spent three hours exploring the historical wonders of Tràng An</strong></p>
                        <p>This transformation changes the structure "It took us X time to do something" to "We spent X time doing something". The word "SPENT" must be used in the rewritten sentence. The infinitive "to explore" becomes the gerund "exploring". The complete sentence is "We spent three hours exploring the historical wonders of Tràng An."</p>
                    </div>
                </div>

                <!-- Question 40 -->
                <div class="mb-6 p-4 bg-gray-50 rounded-lg">
                    <p class="font-medium mb-3">40. Next year, we plan to visit Pù Luông Nature Reserve. It is famous for its terraced rice fields and green valleys. (WHICH)</p>
                    <p class="mb-3">→ __________________________________________________.</p>
                    <div class="ml-4">
                        <input type="text" name="q40" placeholder="Type your answer here" class="border rounded px-3 py-2 w-full focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    <div class="explanation" id="explanation40">
                        <p><strong>Correct answer: Next year, we plan to visit Pù Luông Nature Reserve, which is famous for its terraced rice fields and green valleys</strong></p>
                        <p>This rewriting task combines two separate sentences into one using the relative pronoun "which". The word "WHICH" refers back to "Pù Luông Nature Reserve" and introduces additional information about it. The complete rewritten sentence is "Next year, we plan to visit Pù Luông Nature Reserve, which is famous for its terraced rice fields and green valleys."</p>
                    </div>
                </div>

                <button type="button" id="checkAnswers" class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition">Check Answers</button>
            </form>
        </div>

        <div id="results" class="bg-white p-6 rounded-lg shadow-md mb-6 hidden">
            <h2 class="text-xl font-semibold mb-4">Your Results</h2>
            <p id="score" class="text-lg font-medium"></p>
            <button id="showExplanations" class="mt-4 bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition">Show All Explanations</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const correctAnswers = {
                q17: 'B',
                q18: 'C',
                q19: 'B',
                q20: 'D',
                q21: 'D',
                q22: 'A',
                q29: 'unhealthy',
                q30: 'Obesity',
                q31: 'addicted',
                q32: 'carefully',
                q33: 'scenery',
                q34: 'celebrated',
                q35: 'courage to try',
                q36: 'courage to',
                q37: 'we should wash our hands regularly to prevent the spread of germs',
                q38: 'of severe fines for poaching, some people still keep hunting wild animals',
                q39: 'We spent three hours exploring the historical wonders of Tràng An',
                q40: 'Next year, we plan to visit Pù Luông Nature Reserve, which is famous for its terraced rice fields and green valleys'
            };

            document.getElementById('checkAnswers').addEventListener('click', function() {
                let score = 0;
                let total = Object.keys(correctAnswers).length;
                
                // Check each answer
                for (let question in correctAnswers) {
                    const inputElement = document.querySelector(`input[name="${question}"]`);
                    if (!inputElement) continue;
                    
                    if (inputElement.type === 'radio') {
                        // Multiple choice questions
                        const selectedOption = document.querySelector(`input[name="${question}"]:checked`);
                        
                        if (selectedOption) {
                            const optionLabel = selectedOption.parentElement;
                            
                            if (selectedOption.value === correctAnswers[question]) {
                                score++;
                                optionLabel.classList.add('correct');
                            } else {
                                optionLabel.classList.add('incorrect');
                                // Mark the correct answer
                                document.querySelectorAll(`input[name="${question}"]`).forEach(option => {
                                    if (option.value === correctAnswers[question]) {
                                        option.parentElement.classList.add('correct');
                                    }
                                });
                            }
                        }
                    } else {
                        // Text input questions
                        const userAnswer = inputElement.value.trim().toLowerCase();
                        const correctAnswer = correctAnswers[question].toLowerCase();
                        
                        // For free-text answers, check if they contain the key words
                        let isCorrect = false;
                        
                        // For questions 35-40, be more lenient with checking
                        if (question === 'q35') {
                            isCorrect = userAnswer.includes('courage') && userAnswer.includes('try');
                        } else if (question === 'q36') {
                            isCorrect = userAnswer.includes('courage') && userAnswer.includes('to');
                        } else if (question.substring(0, 1) === 'q' && parseInt(question.substring(1)) >= 37) {
                            // For sentence rewriting questions, check for key components
                            const keyWordsForQ37 = ['we', 'should', 'wash', 'hands', 'regularly', 'prevent'];
                            const keyWordsForQ38 = ['of', 'severe', 'fines', 'poaching', 'people', 'still', 'hunting'];
                            const keyWordsForQ39 = ['spent', 'three', 'hours', 'exploring', 'tràng an'];
                            const keyWordsForQ40 = ['visit', 'pù luông', 'which', 'famous', 'terraced', 'rice', 'fields'];
                            
                            let keyWords;
                            if (question === 'q37') keyWords = keyWordsForQ37;
                            else if (question === 'q38') keyWords = keyWordsForQ38;
                            else if (question === 'q39') keyWords = keyWordsForQ39;
                            else if (question === 'q40') keyWords = keyWordsForQ40;
                            
                            if (keyWords) {
                                const matchCount = keyWords.filter(word => userAnswer.includes(word)).length;
                                isCorrect = matchCount >= Math.floor(keyWords.length * 0.7); // 70% of key words needed
                            }
                        } else {
                            // For word form questions, require exact match
                            isCorrect = userAnswer === correctAnswer;
                        }
                        
                        if (isCorrect) {
                            score++;
                            inputElement.classList.add('bg-green-100', 'border-green-500');
                        } else {
                            inputElement.classList.add('bg-red-100', 'border-red-500');
                            // Show correct answer
                            const correctAnswerElement = document.createElement('div');
                            correctAnswerElement.className = 'text-green-600 mt-2 text-sm';
                            correctAnswerElement.textContent = `Correct answer: ${correctAnswers[question]}`;
                            inputElement.parentNode.appendChild(correctAnswerElement);
                        }
                    }
                    
                    // Show explanation for this question
                    const explanationId = 'explanation' + question.substring(1);
                    const explanation = document.getElementById(explanationId);
                    if (explanation) {
                        explanation.style.display = 'block';
                    }
                }
                
                // Show results
                document.getElementById('score').textContent = `You scored ${score} out of ${total} (${Math.round(score/total*100)}%)`;
                document.getElementById('results').classList.remove('hidden');
                
                // Scroll to results
                document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
            });
            
            document.getElementById('showExplanations').addEventListener('click', function() {
                document.querySelectorAll('.explanation').forEach(explanation => {
                    explanation.style.display = 'block';
                });
            });
        });
    </script>
<script>window.parent.postMessage({ action: "ready" }, "*"); 
 
window.console = new Proxy(console, {
  get(target, prop) {
    if (['log', 'warn', 'error'].includes(prop)) {
      return new Proxy(target[prop], {
        apply(fn, thisArg, args) {
          fn.apply(thisArg, args);
          window.parent.postMessage({ action: 'console', 
            type: prop, 
            args: args.map((arg) => {
              try {
                return JSON.stringify(arg).replace(/^["']|["']$/g, '');
              } catch (e) {
                return arg;
              }
            }) 
          }, '*');
        }
      });
    }
    return target[prop];
  }
});
</script></body>
</html>
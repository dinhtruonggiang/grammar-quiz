
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bài Trắc Nghiệm Tiếng Anh - Lớp 9</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .option {
            transition: all 0.3s ease;
        }
        .option:hover {
            background-color: #f0f9ff;
        }
        .explanation {
            display: none;
        }
        .correct {
            background-color: #dcfce7 !important;
            border-color: #22c55e !important;
        }
        .wrong {
            background-color: #fee2e2 !important;
            border-color: #ef4444 !important;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
        <header class="mb-8 text-center">
            <h1 class="text-3xl font-bold text-blue-700 mb-2">Bài Trắc Nghiệm Tiếng Anh - Lớp 9</h1>
            <p class="text-lg text-gray-600">ILearn Smart World 9: Choose the word/phrase/sentence that best fits the space or best answers the question</p>
        </header>

        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <div class="mb-4">
                <h2 class="text-xl font-semibold mb-2">Hướng dẫn:</h2>
                <p>Chọn đáp án đúng nhất cho mỗi câu hỏi bên dưới. Sau khi làm xong, bấm nút "Kiểm tra kết quả" để xem đáp án và giải thích.</p>
            </div>
            
            <div class="flex justify-between mb-6">
                <button id="startBtn" class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded focus:outline-none">Bắt đầu làm bài</button>
                <button id="checkBtn" class="bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded focus:outline-none hidden">Kiểm tra kết quả</button>
                <button id="resetBtn" class="bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded focus:outline-none hidden">Làm lại</button>
            </div>

            <div id="score" class="mb-6 text-center text-xl font-bold text-blue-700 hidden"></div>

            <div id="quiz-container" class="hidden">
                <div class="space-y-8">
                    <!-- Câu 1 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">1. Which word has a different stress pattern from the others?</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q1" value="A" class="mr-2"> A. computer
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q1" value="B" class="mr-2"> B. important
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q1" value="C" class="mr-2"> C. cucumber
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q1" value="D" class="mr-2"> D. tomorrow
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: B. important</strong></p>
                            <p>Giải thích: Các từ còn lại có trọng âm ở âm tiết thứ hai (com-PU-ter, cu-CUM-ber, to-MOR-row), riêng từ "important" có trọng âm rơi vào âm tiết thứ ba (im-por-TANT).</p>
                        </div>
                    </div>

                    <!-- Câu 2 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">2. Which word has the underlined part pronounced differently from that of the others?</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q2" value="A" class="mr-2"> A. ch<u>air</u>
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q2" value="B" class="mr-2"> B. d<u>are</u>
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q2" value="C" class="mr-2"> C. p<u>ear</u>
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q2" value="D" class="mr-2"> D. w<u>ear</u>
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: A. chair</strong></p>
                            <p>Giải thích: Trong từ "chair", phần gạch chân "air" được phát âm là /eə/. Trong khi đó, các từ "dare", "pear", và "wear" có phần gạch chân "are", "ear", "ear" đều được phát âm là /eə/.</p>
                        </div>
                    </div>

                    <!-- Câu 3 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">3. Jane: "_______ do you go to the gym?" - Tom: "Twice a week."</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q3" value="A" class="mr-2"> A. How often
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q3" value="B" class="mr-2"> B. How long
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q3" value="C" class="mr-2"> C. How far
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q3" value="D" class="mr-2"> D. How much
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: A. How often</strong></p>
                            <p>Giải thích: Trong đoạn hội thoại, câu trả lời "Twice a week" là về tần suất. Chúng ta dùng "How often" để hỏi về tần suất mà một hoạt động diễn ra.</p>
                        </div>
                    </div>

                    <!-- Câu 4 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">4. We should turn off the lights when we leave the room to _______ energy.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q4" value="A" class="mr-2"> A. save
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q4" value="B" class="mr-2"> B. spend
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q4" value="C" class="mr-2"> C. waste
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q4" value="D" class="mr-2"> D. use
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: A. save</strong></p>
                            <p>Giải thích: "Save energy" (tiết kiệm năng lượng) là cụm từ phù hợp với ngữ cảnh về việc tắt đèn khi rời khỏi phòng. Các lựa chọn khác như "spend" (tiêu xài), "waste" (lãng phí), hoặc "use" (sử dụng) không phù hợp với ý nghĩa tích cực của hành động này.</p>
                        </div>
                    </div>

                    <!-- Câu 5 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">5. Which word has a different stress pattern from the others?</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q5" value="A" class="mr-2"> A. excited
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q5" value="B" class="mr-2"> B. wonderful
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q5" value="C" class="mr-2"> C. confident
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q5" value="D" class="mr-2"> D. interesting
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: D. interesting</strong></p>
                            <p>Giải thích: Từ "interesting" có trọng âm ở âm tiết đầu tiên (IN-te-res-ting), trong khi các từ còn lại có trọng âm ở âm tiết thứ hai: ex-CI-ted, won-DER-ful, con-FI-dent.</p>
                        </div>
                    </div>

                    <!-- Câu 6 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">6. If I _______ rich, I would travel around the world.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q6" value="A" class="mr-2"> A. am
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q6" value="B" class="mr-2"> B. were
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q6" value="C" class="mr-2"> C. would be
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q6" value="D" class="mr-2"> D. will be
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: B. were</strong></p>
                            <p>Giải thích: Đây là câu điều kiện loại 2 (type 2 conditional) diễn tả một tình huống không có thật ở hiện tại. Cấu trúc câu điều kiện loại 2 là: If + S + were/V2, S + would + V1. Vì vậy, đáp án đúng là "were".</p>
                        </div>
                    </div>

                    <!-- Câu 7 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">7. Lisa: "_______ open the window?" - John: "Sure, it's getting hot in here."</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q7" value="A" class="mr-2"> A. Would you mind to
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q7" value="B" class="mr-2"> B. Would you mind
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q7" value="C" class="mr-2"> C. Would you mind if I
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q7" value="D" class="mr-2"> D. Do you mind
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: C. Would you mind if I</strong></p>
                            <p>Giải thích: Trong tình huống này, Lisa đang xin phép John để mở cửa sổ. Cấu trúc "Would you mind if I + V1" dùng để xin phép làm việc gì đó. Các lựa chọn khác không đúng cấu trúc ngữ pháp hoặc không phù hợp với ngữ cảnh.</p>
                        </div>
                    </div>

                    <!-- Câu 8 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">8. Which word has the underlined part pronounced differently from that of the others?</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q8" value="A" class="mr-2"> A. h<u>ea</u>d
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q8" value="B" class="mr-2"> B. br<u>ea</u>d
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q8" value="C" class="mr-2"> C. gr<u>ea</u>t
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q8" value="D" class="mr-2"> D. d<u>ea</u>d
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: C. great</strong></p>
                            <p>Giải thích: Phần gạch chân "ea" trong từ "great" được phát âm là /eɪ/, trong khi các từ còn lại "head", "bread", "dead" đều được phát âm là /e/.</p>
                        </div>
                    </div>

                    <!-- Câu 9 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">9. Peter: "I've just passed my driving test." - Mary: "_______"</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q9" value="A" class="mr-2"> A. That's too bad.
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q9" value="B" class="mr-2"> B. I don't care.
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q9" value="C" class="mr-2"> C. Congratulations!
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q9" value="D" class="mr-2"> D. I'm sorry to hear that.
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: C. Congratulations!</strong></p>
                            <p>Giải thích: Trong tình huống này, Peter đang thông báo tin vui (đã vượt qua bài kiểm tra lái xe). Phản ứng phù hợp nhất là chúc mừng người đó, nên "Congratulations!" là đáp án đúng.</p>
                        </div>
                    </div>

                    <!-- Câu 10 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">10. My sister _______ in London for 10 years before she moved to Paris.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q10" value="A" class="mr-2"> A. lives
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q10" value="B" class="mr-2"> B. had lived
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q10" value="C" class="mr-2"> C. was living
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q10" value="D" class="mr-2"> D. is living
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: B. had lived</strong></p>
                            <p>Giải thích: Câu này nói về một hành động đã hoàn thành trước một hành động khác trong quá khứ (sống ở London trước khi chuyển đến Paris). Chúng ta sử dụng thì quá khứ hoàn thành (Past Perfect) - "had lived" để diễn tả hành động xảy ra trước trong quá khứ.</p>
                        </div>
                    </div>

                    <!-- Câu 11 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">11. Smoking is banned in public places _______ it affects other people's health.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q11" value="A" class="mr-2"> A. because
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q11" value="B" class="mr-2"> B. so
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q11" value="C" class="mr-2"> C. therefore
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q11" value="D" class="mr-2"> D. despite
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: A. because</strong></p>
                            <p>Giải thích: Trong câu này, chúng ta cần một từ nối diễn tả lý do. "Because" (bởi vì) được dùng để nêu lý do tại sao hút thuốc bị cấm ở nơi công cộng. Các từ nối khác không phù hợp với ngữ cảnh và cấu trúc của câu.</p>
                        </div>
                    </div>

                    <!-- Câu 12 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">12. The more you practice speaking English, _______ you will become.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q12" value="A" class="mr-2"> A. the fluent
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q12" value="B" class="mr-2"> B. the more fluent
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q12" value="C" class="mr-2"> C. more fluent
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q12" value="D" class="mr-2"> D. fluently
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: B. the more fluent</strong></p>
                            <p>Giải thích: Đây là cấu trúc so sánh kép "the more..., the more..." (càng... càng...). Câu hoàn chỉnh sẽ là "The more you practice speaking English, the more fluent you will become" (Bạn càng luyện tập nói tiếng Anh nhiều, bạn sẽ càng trở nên lưu loát).</p>
                        </div>
                    </div>

                    <!-- Câu 13 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">13. Students should take notes _______ important points during the lecture.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q13" value="A" class="mr-2"> A. in
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q13" value="B" class="mr-2"> B. about
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q13" value="C" class="mr-2"> C. of
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q13" value="D" class="mr-2"> D. for
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: C. of</strong></p>
                            <p>Giải thích: Cụm từ cố định trong tiếng Anh là "take notes of something" (ghi chú về điều gì đó). Vì vậy, giới từ đúng ở đây là "of".</p>
                        </div>
                    </div>

                    <!-- Câu 14 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">14. Which word has a different stress pattern from the others?</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q14" value="A" class="mr-2"> A. museum
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q14" value="B" class="mr-2"> B. consider
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q14" value="C" class="mr-2"> C. determine
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q14" value="D" class="mr-2"> D. continue
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: A. museum</strong></p>
                            <p>Giải thích: Từ "museum" có trọng âm ở âm tiết thứ hai (mu-SE-um), trong khi các từ còn lại có trọng âm ở âm tiết đầu tiên: CON-si-der, DE-ter-mine, CON-ti-nue.</p>
                        </div>
                    </div>

                    <!-- Câu 15 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">15. Most scientists agree that global warming is mainly _______ by human activities.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q15" value="A" class="mr-2"> A. made
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q15" value="B" class="mr-2"> B. done
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q15" value="C" class="mr-2"> C. created
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q15" value="D" class="mr-2"> D. caused
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: D. caused</strong></p>
                            <p>Giải thích: Cụm "caused by" (gây ra bởi) là cách diễn đạt phù hợp nhất để nói về nguyên nhân của hiện tượng nóng lên toàn cầu. Các từ khác như "made", "done" hay "created" không phù hợp trong ngữ cảnh này.</p>
                        </div>
                    </div>

                    <!-- Câu 16 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">16. Tom: "I think we should protect the environment." - Jerry: "_______"</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q16" value="A" class="mr-2"> A. I don't think so.
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q16" value="B" class="mr-2"> B. I couldn't agree more.
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q16" value="C" class="mr-2"> C. That's not a good idea.
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q16" value="D" class="mr-2"> D. I'm not sure about that.
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: B. I couldn't agree more.</strong></p>
                            <p>Giải thích: Cụm "I couldn't agree more" (Tôi hoàn toàn đồng ý) là cách diễn đạt sự đồng tình mạnh mẽ với ý kiến của người nói trước đó. Trong tình huống này, Jerry hoàn toàn ủng hộ ý kiến của Tom về việc bảo vệ môi trường.</p>
                        </div>
                    </div>

                    <!-- Câu 17 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">17. Which word has the underlined part pronounced differently from that of the others?</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q17" value="A" class="mr-2"> A. s<u>ch</u>ool
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q17" value="B" class="mr-2"> B. <u>ch</u>ef
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q17" value="C" class="mr-2"> C. ma<u>ch</u>ine
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q17" value="D" class="mr-2"> D. <u>ch</u>air
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: C. machine</strong></p>
                            <p>Giải thích: Phần gạch chân "ch" trong từ "machine" được phát âm là /ʃ/ (âm "sh"), trong khi các từ còn lại "school", "chef", "chair" đều được phát âm là /k/, /ʃ/, /tʃ/ tương ứng. Từ "chef" và "machine" tuy cùng phát âm "ch" là /ʃ/ nhưng vẫn khác với phần còn lại.</p>
                        </div>
                    </div>

                    <!-- Câu 18 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">18. By the time we arrived at the cinema, the film _______ for 15 minutes.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q18" value="A" class="mr-2"> A. has started
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q18" value="B" class="mr-2"> B. had been starting
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q18" value="C" class="mr-2"> C. had been running
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q18" value="D" class="mr-2"> D. was running
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: C. had been running</strong></p>
                            <p>Giải thích: Câu này diễn tả một hành động đã bắt đầu trước một thời điểm trong quá khứ và vẫn đang tiếp diễn tại thời điểm đó (bộ phim đã chiếu được 15 phút khi chúng tôi đến). Thì quá khứ hoàn thành tiếp diễn (Past Perfect Continuous) - "had been running" là phù hợp nhất.</p>
                        </div>
                    </div>

                    <!-- Câu 19 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">19. My father _______ smoking for health reasons.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q19" value="A" class="mr-2"> A. gave up
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q19" value="B" class="mr-2"> B. took up
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q19" value="C" class="mr-2"> C. put off
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q19" value="D" class="mr-2"> D. turned down
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: A. gave up</strong></p>
                            <p>Giải thích: Cụm động từ "give up" có nghĩa là "từ bỏ", phù hợp với ngữ cảnh từ bỏ hút thuốc vì lý do sức khỏe. Các cụm động từ khác: "take up" (bắt đầu làm gì), "put off" (trì hoãn), "turn down" (từ chối) không phù hợp với ngữ cảnh của câu.</p>
                        </div>
                    </div>

                    <!-- Câu 20 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">20. I wish I _______ to the party last night. It was so boring.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q20" value="A" class="mr-2"> A. didn't go
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q20" value="B" class="mr-2"> B. haven't gone
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q20" value="C" class="mr-2"> C. hadn't gone
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q20" value="D" class="mr-2"> D. wouldn't go
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: C. hadn't gone</strong></p>
                            <p>Giải thích: Cấu trúc "wish + past perfect" được dùng để diễn tả ước muốn về một việc đã xảy ra trong quá khứ nhưng bây giờ muốn nó khác đi. Trong câu này, người nói hối tiếc vì đã đi dự tiệc đêm qua (nhưng thực tế là đã đi), nên đáp án đúng là "hadn't gone".</p>
                        </div>
                    </div>

                    <!-- Câu 21 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">21. My brother is very _______ of his new car. He washes it every day.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q21" value="A" class="mr-2"> A. proud
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q21" value="B" class="mr-2"> B. excited
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q21" value="C" class="mr-2"> C. happy
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q21" value="D" class="mr-2"> D. interested
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: A. proud</strong></p>
                            <p>Giải thích: Tính từ "proud" (tự hào) kết hợp với giới từ "of" diễn tả cảm xúc tự hào về điều gì đó. Ngữ cảnh của câu cho thấy người anh/em trai rất tự hào về chiếc xe mới của mình đến mức rửa xe mỗi ngày.</p>
                        </div>
                    </div>

                    <!-- Câu 22 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">22. If we _______ the bus, we'll have to take a taxi.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q22" value="A" class="mr-2"> A. will miss
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q22" value="B" class="mr-2"> B. miss
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q22" value="C" class="mr-2"> C. would miss
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q22" value="D" class="mr-2"> D. are missing
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: B. miss</strong></p>
                            <p>Giải thích: Đây là câu điều kiện loại 1 (type 1 conditional) diễn tả một tình huống có thể xảy ra ở tương lai. Cấu trúc câu điều kiện loại 1 là: If + S + V (hiện tại đơn), S + will + V1. Vì vậy, đáp án đúng là "miss" (hiện tại đơn).</p>
                        </div>
                    </div>

                    <!-- Câu 23 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">23. Which word has a different stress pattern from the others?</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q23" value="A" class="mr-2"> A. determine
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q23" value="B" class="mr-2"> B. employment
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q23" value="C" class="mr-2"> C. different
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q23" value="D" class="mr-2"> D. beautiful
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: B. employment</strong></p>
                            <p>Giải thích: Từ "employment" có trọng âm ở âm tiết thứ hai (em-PLOY-ment), trong khi các từ còn lại có trọng âm ở âm tiết đầu tiên: DE-ter-mine, DIF-fe-rent, BEAU-ti-ful.</p>
                        </div>
                    </div>

                    <!-- Câu 24 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">24. We'll go camping tomorrow _______ it doesn't rain.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q24" value="A" class="mr-2"> A. providing that
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q24" value="B" class="mr-2"> B. even though
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q24" value="C" class="mr-2"> C. in spite of
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q24" value="D" class="mr-2"> D. whereas
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: A. providing that</strong></p>
                            <p>Giải thích: "Providing that" (với điều kiện là) dùng để đưa ra một điều kiện cho việc đi cắm trại ngày mai. Các lựa chọn khác: "even though" (mặc dù), "in spite of" (bất chấp), "whereas" (trong khi) không phù hợp với ngữ cảnh và cấu trúc của câu.</p>
                        </div>
                    </div>

                    <!-- Câu 25 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">25. I haven't heard from him _______ he moved to another city.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q25" value="A" class="mr-2"> A. during
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q25" value="B" class="mr-2"> B. until
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q25" value="C" class="mr-2"> C. since
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q25" value="D" class="mr-2"> D. while
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: C. since</strong></p>
                            <p>Giải thích: "Since" (kể từ khi) được dùng để chỉ thời điểm bắt đầu của một hành động kéo dài đến hiện tại. Trong câu này, người nói không nghe tin từ người kia kể từ khi người đó chuyển đến thành phố khác.</p>
                        </div>
                    </div>

                    <!-- Câu 26 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">26. Which word has the underlined part pronounced differently from that of the others?</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q26" value="A" class="mr-2"> A. b<u>oo</u>k
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q26" value="B" class="mr-2"> B. g<u>oo</u>d
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q26" value="C" class="mr-2"> C. f<u>oo</u>d
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q26" value="D" class="mr-2"> D. l<u>oo</u>k
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: C. food</strong></p>
                            <p>Giải thích: Phần gạch chân "oo" trong từ "food" được phát âm là /u:/ (âm dài), trong khi các từ còn lại "book", "good", "look" đều được phát âm là /ʊ/ (âm ngắn).</p>
                        </div>
                    </div>

                    <!-- Câu 27 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">27. The book is _______ interesting that I can't put it down.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q27" value="A" class="mr-2"> A. such
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q27" value="B" class="mr-2"> B. so
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q27" value="C" class="mr-2"> C. too
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q27" value="D" class="mr-2"> D. enough
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: B. so</strong></p>
                            <p>Giải thích: Cấu trúc "so + tính từ + that" được dùng để diễn tả kết quả của một tính chất. Trong câu này, cuốn sách quá thú vị đến mức người đọc không thể đặt nó xuống. Các lựa chọn khác không phù hợp với cấu trúc ngữ pháp của câu.</p>
                        </div>
                    </div>

                    <!-- Câu 28 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">28. Linda: "I've passed my driving test." - Tom: "_______"</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q28" value="A" class="mr-2"> A. Good luck.
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q28" value="B" class="mr-2"> B. That's great. Congratulations!
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q28" value="C" class="mr-2"> C. You're welcome.
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q28" value="D" class="mr-2"> D. It's nice of you to say so.
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: B. That's great. Congratulations!</strong></p>
                            <p>Giải thích: Trong tình huống này, Linda thông báo tin vui là đã vượt qua bài kiểm tra lái xe. Phản ứng phù hợp nhất là chúc mừng người đó, nên "That's great. Congratulations!" (Thật tuyệt. Chúc mừng!) là đáp án đúng.</p>
                        </div>
                    </div>

                    <!-- Câu 29 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">29. You should _______ more attention to what your teacher explains.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q29" value="A" class="mr-2"> A. make
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q29" value="B" class="mr-2"> B. pay
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q29" value="C" class="mr-2"> C. get
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q29" value="D" class="mr-2"> D. take
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: B. pay</strong></p>
                            <p>Giải thích: Cụm "pay attention to" (chú ý đến) là cụm từ cố định trong tiếng Anh. Các từ khác không kết hợp với "attention to" để tạo thành một cụm từ có nghĩa phù hợp.</p>
                        </div>
                    </div>

                    <!-- Câu 30 -->
                    <div class="question-container border border-gray-200 rounded-lg p-4">
                        <p class="font-medium mb-3">30. The doctor advised her _______ more vegetables.</p>
                        <div class="space-y-2">
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q30" value="A" class="mr-2"> A. eating
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q30" value="B" class="mr-2"> B. to eat
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q30" value="C" class="mr-2"> C. eat
                            </label>
                            <label class="option flex items-center p-2 border border-gray-300 rounded cursor-pointer">
                                <input type="radio" name="q30" value="D" class="mr-2"> D. ate
                            </label>
                        </div>
                        <div class="explanation mt-3 p-3 bg-blue-50 rounded-lg">
                            <p><strong>Đáp án đúng: B. to eat</strong></p>
                            <p>Giải thích: Sau động từ "advise" (khuyên), khi theo sau bởi một đối tượng (her), ta sử dụng cấu trúc to-infinitive (to + V1). Vì vậy, đáp án đúng là "to eat".</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <footer class="text-center text-gray-600 mt-8">
            <p>© 2025 - Bài trắc nghiệm dựa theo sách ILearn Smart World 9 Student Book</p>
        </footer>
    </div>

    <script>
        // Các biến để quản lý bài kiểm tra
        const questions = document.querySelectorAll('.question-container');
        const startBtn = document.getElementById('startBtn');
        const checkBtn = document.getElementById('checkBtn');
        const resetBtn = document.getElementById('resetBtn');
        const quizContainer = document.getElementById('quiz-container');
        const scoreDisplay = document.getElementById('score');
        
        // Đáp án đúng cho mỗi câu hỏi
        const correctAnswers = {
            'q1': 'B', 'q2': 'A', 'q3': 'A', 'q4': 'A', 'q5': 'D',
            'q6': 'B', 'q7': 'C', 'q8': 'C', 'q9': 'C', 'q10': 'B',
            'q11': 'A', 'q12': 'B', 'q13': 'C', 'q14': 'A', 'q15': 'D',
            'q16': 'B', 'q17': 'C', 'q18': 'C', 'q19': 'A', 'q20': 'C',
            'q21': 'A', 'q22': 'B', 'q23': 'B', 'q24': 'A', 'q25': 'C',
            'q26': 'C', 'q27': 'B', 'q28': 'B', 'q29': 'B', 'q30': 'B'
        };
        
        // Bắt đầu bài kiểm tra
        startBtn.addEventListener('click', function() {
            quizContainer.classList.remove('hidden');
            startBtn.classList.add('hidden');
            checkBtn.classList.remove('hidden');
        });
        
        // Kiểm tra kết quả
        checkBtn.addEventListener('click', function() {
            let score = 0;
            
            // Kiểm tra từng câu hỏi
            for (let i = 1; i <= 30; i++) {
                const questionName = `q${i}`;
                const selectedOption = document.querySelector(`input[name="${questionName}"]:checked`);
                
                if (selectedOption) {
                    const questionContainer = selectedOption.closest('.question-container');
                    const explanation = questionContainer.querySelector('.explanation');
                    const options = questionContainer.querySelectorAll('.option');
                    
                    // Hiển thị giải thích
                    explanation.style.display = 'block';
                    
                    // Kiểm tra đáp án và đánh dấu
                    options.forEach(option => {
                        const radio = option.querySelector('input[type="radio"]');
                        if (radio.value === correctAnswers[questionName]) {
                            option.classList.add('correct');
                            if (selectedOption.value === correctAnswers[questionName]) {
                                score++;
                            }
                        } else if (radio.value === selectedOption.value && selectedOption.value !== correctAnswers[questionName]) {
                            option.classList.add('wrong');
                        }
                    });
                }
            }
            
            // Hiển thị điểm
            scoreDisplay.textContent = `Điểm của bạn: ${score}/30`;
            scoreDisplay.classList.remove('hidden');
            
            // Ẩn nút kiểm tra và hiển thị nút làm lại
            checkBtn.classList.add('hidden');
            resetBtn.classList.remove('hidden');
        });
        
        // Làm lại bài kiểm tra
        resetBtn.addEventListener('click', function() {
            // Xóa tất cả các lựa chọn
            const radios = document.querySelectorAll('input[type="radio"]');
            radios.forEach(radio => {
                radio.checked = false;
            });
            
            // Ẩn giải thích
            const explanations = document.querySelectorAll('.explanation');
            explanations.forEach(explanation => {
                explanation.style.display = 'none';
            });
            
            // Xóa đánh dấu đúng/sai
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.classList.remove('correct', 'wrong');
            });
            
            // Ẩn điểm
            scoreDisplay.classList.add('hidden');
            
            // Ẩn nút làm lại và hiển thị nút kiểm tra
            resetBtn.classList.add('hidden');
            checkBtn.classList.remove('hidden');
        });
    </script>
<script>window.parent.postMessage({ action: "ready" }, "*"); 
 
window.console = new Proxy(console, {
  get(target, prop) {
    if (['log', 'warn', 'error'].includes(prop)) {
      return new Proxy(target[prop], {
        apply(fn, thisArg, args) {
          fn.apply(thisArg, args);
          window.parent.postMessage({ action: 'console', 
            type: prop, 
            args: args.map((arg) => {
              try {
                return JSON.stringify(arg).replace(/^["']|["']$/g, '');
              } catch (e) {
                return arg;
              }
            }) 
          }, '*');
        }
      });
    }
    return target[prop];
  }
});
</script></body>
</html>
